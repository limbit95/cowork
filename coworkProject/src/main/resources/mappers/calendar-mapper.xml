<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cowork.employee.calendar.model.mapper.CalendarMapper">

	<!-- 회사에 존재하는 부서 개수 -->
	<select id="deptCount">
		SELECT COUNT(*)
		FROM DEPARTMENT
		WHERE COM_NO = #{comNo}
	</select>

	<!-- 회사에 존재하는 부서 조회 -->
	<select id="selectDeptList">
		SELECT DEPT_NO, DEPT_NM
		FROM DEPARTMENT
		WHERE COM_NO = #{comNo}
	</select>
	
	<!-- 부서별 팀 목록 조회 -->
	<select id="selectTeamList">
		SELECT TEAM_NO, TEAM_NM, DEPT_NO
		FROM TEAM
		WHERE DEPT_NO = #{deptNo}
	</select>
	
	<!-- 부서에 존재하는 team 개수 -->
	<select id="teamCount">
		SELECT COUNT(*)
		FROM TEAM
		WHERE DEPT_NO = #{deptNo}
	</select>
	
	<!-- 캘린더 insert -->
	<insert id="calendarInsert">
		INSERT INTO CALENDAR VALUES(
			SEQ_CALENDAR.NEXTVAL, #{calendarTitle},
			#{calendarContent}, #{calendarColor},
			#{empCode}, #{calendarStart}, #{calendarEnd},
			NULL
		)
	</insert>
</mapper>
