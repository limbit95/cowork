<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="	/css/common.css">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.13/index.global.min.js"></script>
    <script src='https://fullcalendar.io/releases/fullcalendar/3.10.2/lib/moment.min.js'></script>
	<link rel="stylesheet" href="/css/employee/userMain/userMainTodo.css">
    <title>userMain</title>
</head>
<body>
	<div th:replace="~{employee/userMain/leftSideBar}"></div>
	<div id="userMainFullContainer">
		<div id="attendanceRegisterBtn">
			<button class="default-btn sapphire-btn" id="attdRegistBtn" type="button">출퇴근 등록</button>	
		</div>
		    
		<div id="calendarTodoContainer">
			
			<div id="leftBarSpace">
			</div>
			
			<div id="rightSpace" >
				<div id="calendarSection">
					<i class="fa-solid fa-calendar-days" id="calendarId"></i> <span  id="calendarSpan">캘린더</span> 
			        <div id='calendar'></div>	
				</div>

				<div id="todoSection"> 		
					<i class="fa-solid fa-list" id="todoIcon"></i>
					<span id="todoSpan">할 일</span>

					<div class="todoHead">
						<span>할 일</span>
						<span>기한</span>
					</div>

					<div class="todo" id="todo"></div>

					<div id="todoModal" class="modal">
						<div class="modal-content">
							<div id="closeArea">
								<span class="close">&times;</span>
							</div>
							
							<div class="todoContents">
								<div>
									<span>할 일</span>
									<span id="todoTitleSpan">Todo Title</span>
								</div>
								<div>
									<span>요청자</span>
									<span id="requestEmpSpan"></span>
								</div>
								<div>
									<span>담당자</span>
									<span id="inChargeEmpSpan"></span>
								</div>
								<div>
									<span>작성일</span>
									<span id="writeDate"></span>
								</div>
								<div>
									<span>기한</span>
									<span id="endDate"></span>
								</div>
								<div>
									<span>내용</span>
									<span id="todoContentSpan">내용</span>
								</div>								
							</div>
						</div>
					</div>
				</div>
			</div>	
			
	    </div>
		
		<div id="noticeContainer">
			<div id="leftBarSpace">
			</div>
			<div id="noticeSection">
					공지사항은 여기에 넣어주세요!
					공지사항은 여기에 넣어주세요!				
					공지사항은 여기에 넣어주세요!				
					공지사항은 여기에 넣어주세요!				
					공지사항은 여기에 넣어주세요!				
					공지사항은 여기에 넣어주세요! 
					공지사항은 여기에 넣어주세요!				
			</div>
		</div>

		
	</div>
	
	<script>

		

		
	
	
	</script>
	
	<script src="/js/employee/userMain/userMain.js"></script>
	<script th:inline="javascript">
		const companyAllCalendarList = /*[[${session.companyAllCalendarList}]]*/ "회사 전체 리스트";
		const loginEmpTodoList = /*${session.loginEmpTodoList}*/ "투두리스트"; 

		document.addEventListener('DOMContentLoaded', function() {

			const showMain = companyAllCalendarList.map(event => ({
				title : event.calendarTitle,
				start : event.calendarStart,
				end : event.calendarEnd,
				color : event.calendarColor
			}));

			var calendarEl = document.getElementById('calendar');
			var calendar = new FullCalendar.Calendar(calendarEl, {
				initialView: 'dayGridMonth',
				selectable: true,
				events: showMain,
				select: function(info) {
					location.href = "/calendar/calendar";
				},
				eventClick: function(info) {
					location.href = "/calendar/calendar";
				}
			});
			calendar.render();
		});

	</script>
	
</body>
</html>